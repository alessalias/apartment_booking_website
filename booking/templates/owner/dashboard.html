{% extends "owner/layout.html" %}

{% block content %}
<h1 class="text-xl font-bold mb-4">Owner Dashboard</h1>

<!-- Base Rate -->
<div class="mb-6">
  <h2 class="text-lg font-semibold">Base Nightly Rate</h2>
  <form method="post" action="{% url 'update_base_rate' %}">
    {% csrf_token %}
    <input type="number" name="base_rate" step="0.01" value="{{ base_rate }}" class="border rounded px-2 py-1" />
    <button type="submit" class="bg-blue-500 text-white px-3 py-1 rounded ml-2">Update</button>
  </form>
</div>

<!-- Upcoming Bookings -->
<div>
  <h2 class="text-lg font-semibold mb-2">Upcoming Bookings</h2>
  <table class="table-auto w-full border text-left">
    <thead>
      <tr>
        <th class="px-2 py-1">Name</th>
        <th class="px-2 py-1">Check-in</th>
        <th class="px-2 py-1">Check-out</th>
        <th class="px-2 py-1">Paid</th>
      </tr>
    </thead>
    <tbody>
      {% for booking in bookings %}
      <tr>
        <td class="border px-2 py-1">{{ booking.name }}</td>
        <td class="border px-2 py-1">{{ booking.check_in }}</td>
        <td class="border px-2 py-1">{{ booking.check_out }}</td>
        <td class="border px-2 py-1">{{ booking.paid }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="text-center py-2">No bookings found.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}